<div class="dashboard-page container py-4">


  <div class="row g-3 mb-4 text-center">
    <div class="col-md-4">
      <div class="card text-bg-warning shadow-sm">
        <div class="card-body">
          <h6 class="card-title">Pending</h6>
          <h2 class="card-text">{{ pendingCount }}</h2>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-bg-primary shadow-sm">
        <div class="card-body">
          <h6 class="card-title">In Progress</h6>
          <h2 class="card-text">{{ inProgressCount }}</h2>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-bg-success shadow-sm">
        <div class="card-body">
          <h6 class="card-title">Completed</h6>
          <h2 class="card-text">{{ completedCount }}</h2>
        </div>
      </div>
    </div>
  </div>


  <div class="row g-3 mb-4 justify-content-center">
    <div class="col-md-4">
      <select class="form-select" [(ngModel)]="selectedEmployee" title="Filter by Employee">
        <option value="">All Employees</option>
        <option *ngFor="let emp of employees" [value]="emp.employeeID">{{ emp.name }}</option>
      </select>
    </div>
    <div class="col-md-4">
      <select class="form-select" [(ngModel)]="selectedStatus" title="Filter by Status">
        <option value="">All Status</option>
        <option value="Pending">Pending</option>
        <option value="InProgress">In Progress</option>
        <option value="Completed">Completed</option>
      </select>
    </div>
  </div>

  <div class="table-responsive shadow-sm rounded">
    <table class="table table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Assigned To</th>
          <th>Status</th>
          <th>Due Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let task of filteredTasks">
          <td>{{ task.title }}</td>
          <td>{{ task.description }}</td>
          <td>{{ getEmployeeName(task.assignedTo_EmployeeId) }}</td>
          <td>
            <span class="badge"
              [ngClass]="{
                'bg-warning': task.taskStatus === 'Pending',
                'bg-primary': task.taskStatus === 'InProgress',
                'bg-success': task.taskStatus === 'Completed'
              }">
              {{ task.taskStatus }}
            </span>
          </td>
          <td>{{ task.dueDate | date:'yyyy-MM-dd' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
